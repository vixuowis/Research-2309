{"path": "output/hf-eval-data-v3-valid/f00371_generate_image.py", "content": "# function_import --------------------\n\nimport os\nfrom diffusers import DDPMPipeline\n\n# function_code --------------------\n\ndef generate_image(model_id: str) -> None:\n    '''\n    Generate a high-quality image using a pre-trained model.\n\n    Args:\n        model_id (str): The id of the pre-trained model.\n\n    Returns:\n        None\n\n    Raises:\n        ModuleNotFoundError: If the diffusers library is not installed.\n    '''\n    ddpm = DDPMPipeline.from_pretrained(model_id)\n    image = ddpm().images[0]\n    image.save('ddpm_generated_image.png')\n\n# test_function_code --------------------\n\ndef test_generate_image():\n    '''\n    Test the generate_image function.\n\n    Returns:\n        str: 'All Tests Passed' if all assertions pass.\n    '''\n    try:\n        generate_image('google/ddpm-church-256')\n        assert os.path.exists('ddpm_generated_image.png')\n    except Exception as e:\n        print(f'Test failed with exception: {e}')\n        raise e\n    return 'All Tests Passed'\n\n# call_test_function_code --------------------\n\nprint(test_generate_image())", "function_import": "# function_import --------------------\n\nimport os\nfrom diffusers import DDPMPipeline\n\n", "function_code": "# function_code --------------------\n\ndef generate_image(model_id: str) -> None:\n    '''\n    Generate a high-quality image using a pre-trained model.\n\n    Args:\n        model_id (str): The id of the pre-trained model.\n\n    Returns:\n        None\n\n    Raises:\n        ModuleNotFoundError: If the diffusers library is not installed.\n    '''\n    ddpm = DDPMPipeline.from_pretrained(model_id)\n    image = ddpm().images[0]\n    image.save('ddpm_generated_image.png')\n\n", "test_function_code": "# test_function_code --------------------\n\ndef test_generate_image():\n    '''\n    Test the generate_image function.\n\n    Returns:\n        str: 'All Tests Passed' if all assertions pass.\n    '''\n    try:\n        generate_image('google/ddpm-church-256')\n        assert os.path.exists('ddpm_generated_image.png')\n    except Exception as e:\n        print(f'Test failed with exception: {e}')\n        raise e\n    return 'All Tests Passed'\n\n", "call_test_function_code": "# call_test_function_code --------------------\n\nprint(test_generate_image())", "instruct": "# function_import --------------------\n\nimport os\nfrom diffusers import DDPMPipeline\n\n# function_code --------------------\n\ndef generate_image(model_id: str) -> None:\n    '''\n    Generate a high-quality image using a pre-trained model.\n\n    Args:\n        model_id (str): The id of the pre-trained model.\n\n    Returns:\n        None\n\n    Raises:\n        ModuleNotFoundError: If the diffusers library is not installed.\n    '''", "answer": "\n    ddpm = DDPMPipeline.from_pretrained(model_id)\n    image = ddpm().images[0]\n    image.save('ddpm_generated_image.png')\n\n", "prediction": "    \n    # Setup the pipeline to generate a high quality image.\n    pipeline = DDPMPipeline(model_id)\n\n    # Generate the output.\n    pipeline()\n\n# function_call --------------------\n\n# Check if there are any pre-trained models in the model directory. If not, download and extract them. Then run generate_image for each model.\nfor model_dir in os.listdir('models'):\n    # Make sure we're dealing with a folder and not a hidden file (i.e., .DS_Store).\n    if os.path.isdir(os.path.join('models', model_dir)):\n        try:\n            # Generate image using this pre-trained model.\n            generate_image(model_dir)\n            \n        except ModuleNotFoundError as e:\n            print(\"It looks like you don't have the diffusers library installed on your system.\")\n            print('Please run `pip install \"diffusers>=0.3\" --force-reinstall` to get started.')"}