2023-11-12 08:46:48.384343: I tensorflow/core/util/port.cc:110] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2023-11-12 08:46:48.426754: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 AVX512F AVX512_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2023-11-12 08:46:49.037279: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT
Downloading (…)lve/main/config.json:   0%|                                                                         | 0.00/4.92k [00:00<?, ?B/s]Downloading (…)lve/main/config.json: 100%|█████████████████████████████████████████████████████████████████| 4.92k/4.92k [00:00<00:00, 459kB/s]
Downloading pytorch_model.bin:   0%|                                                                               | 0.00/1.13G [00:00<?, ?B/s]Downloading pytorch_model.bin:   1%|▋                                                                     | 10.5M/1.13G [00:01<03:06, 6.00MB/s]Downloading pytorch_model.bin:   2%|█▎                                                                    | 21.0M/1.13G [00:02<01:53, 9.80MB/s]Downloading pytorch_model.bin:   3%|█▉                                                                    | 31.5M/1.13G [00:02<01:29, 12.3MB/s]Downloading pytorch_model.bin:   4%|██▌                                                                   | 41.9M/1.13G [00:03<01:19, 13.6MB/s]Downloading pytorch_model.bin:   5%|███▏                                                                  | 52.4M/1.13G [00:04<01:17, 13.9MB/s]Downloading pytorch_model.bin:   6%|███▉                                                                  | 62.9M/1.13G [00:04<01:11, 14.9MB/s]Downloading pytorch_model.bin:   6%|████▌                                                                 | 73.4M/1.13G [00:05<01:07, 15.7MB/s]Downloading pytorch_model.bin:   7%|█████▏                                                                | 83.9M/1.13G [00:06<01:04, 16.3MB/s]Downloading pytorch_model.bin:   8%|█████▊                                                                | 94.4M/1.13G [00:06<01:00, 17.0MB/s]Downloading pytorch_model.bin:   9%|██████▌                                                                | 105M/1.13G [00:07<01:00, 16.9MB/s]Downloading pytorch_model.bin:  10%|███████▎                                                               | 115M/1.13G [00:07<00:57, 17.5MB/s]Downloading pytorch_model.bin:  11%|███████▉                                                               | 126M/1.13G [00:08<00:58, 17.3MB/s]Downloading pytorch_model.bin:  12%|████████▌                                                              | 136M/1.13G [00:09<00:59, 16.8MB/s]Downloading pytorch_model.bin:  13%|█████████▏                                                             | 147M/1.13G [00:09<00:59, 16.4MB/s]Downloading pytorch_model.bin:  14%|█████████▉                                                             | 157M/1.13G [00:10<00:58, 16.6MB/s]Downloading pytorch_model.bin:  15%|██████████▌                                                            | 168M/1.13G [00:10<00:55, 17.3MB/s]Downloading pytorch_model.bin:  16%|███████████▏                                                           | 178M/1.13G [00:11<00:56, 16.8MB/s]Downloading pytorch_model.bin:  17%|███████████▊                                                           | 189M/1.13G [00:12<00:58, 16.1MB/s]Downloading pytorch_model.bin:  18%|████████████▌                                                          | 199M/1.13G [00:13<00:58, 15.9MB/s]Downloading pytorch_model.bin:  19%|█████████████▏                                                         | 210M/1.13G [00:13<00:58, 15.8MB/s]Downloading pytorch_model.bin:  19%|█████████████▊                                                         | 220M/1.13G [00:14<00:56, 16.0MB/s]Downloading pytorch_model.bin:  20%|██████████████▌                                                        | 231M/1.13G [00:14<00:56, 16.0MB/s]Downloading pytorch_model.bin:  21%|███████████████▏                                                       | 241M/1.13G [00:15<00:55, 16.0MB/s]Downloading pytorch_model.bin:  22%|███████████████▊                                                       | 252M/1.13G [00:16<00:55, 15.7MB/s]Downloading pytorch_model.bin:  23%|████████████████▍                                                      | 262M/1.13G [00:16<00:55, 15.7MB/s]Downloading pytorch_model.bin:  24%|█████████████████▏                                                     | 273M/1.13G [00:17<00:53, 15.9MB/s]Downloading pytorch_model.bin:  25%|█████████████████▊                                                     | 283M/1.13G [00:18<00:52, 16.0MB/s]Downloading pytorch_model.bin:  26%|██████████████████▍                                                    | 294M/1.13G [00:18<00:52, 16.1MB/s]Downloading pytorch_model.bin:  27%|███████████████████                                                    | 304M/1.13G [00:19<00:50, 16.2MB/s]Downloading pytorch_model.bin:  28%|███████████████████▊                                                   | 315M/1.13G [00:20<00:50, 16.1MB/s]Downloading pytorch_model.bin:  29%|████████████████████▍                                                  | 325M/1.13G [00:21<01:01, 13.2MB/s]Downloading pytorch_model.bin:  30%|█████████████████████                                                  | 336M/1.13G [00:22<00:57, 13.9MB/s]Downloading pytorch_model.bin:  31%|█████████████████████▊                                                 | 346M/1.13G [00:22<00:53, 14.6MB/s]Downloading pytorch_model.bin:  32%|██████████████████████▍                                                | 357M/1.13G [00:23<00:51, 14.9MB/s]Downloading pytorch_model.bin:  32%|███████████████████████                                                | 367M/1.13G [00:23<00:49, 15.3MB/s]Downloading pytorch_model.bin:  33%|███████████████████████▋                                               | 377M/1.13G [00:24<00:47, 15.7MB/s]Downloading pytorch_model.bin:  34%|████████████████████████▍                                              | 388M/1.13G [00:25<00:47, 15.5MB/s]Downloading pytorch_model.bin:  35%|█████████████████████████                                              | 398M/1.13G [00:25<00:46, 15.8MB/s]Downloading pytorch_model.bin:  36%|█████████████████████████▋                                             | 409M/1.13G [00:26<00:45, 16.0MB/s]Downloading pytorch_model.bin:  37%|██████████████████████████▎                                            | 419M/1.13G [00:27<00:43, 16.1MB/s]Downloading pytorch_model.bin:  38%|███████████████████████████                                            | 430M/1.13G [00:27<00:43, 16.0MB/s]Downloading pytorch_model.bin:  39%|███████████████████████████▋                                           | 440M/1.13G [00:28<00:42, 16.2MB/s]Downloading pytorch_model.bin:  40%|████████████████████████████▎                                          | 451M/1.13G [00:29<00:42, 16.0MB/s]Downloading pytorch_model.bin:  41%|█████████████████████████████                                          | 461M/1.13G [00:29<00:41, 16.3MB/s]Downloading pytorch_model.bin:  42%|█████████████████████████████▋                                         | 472M/1.13G [00:30<00:40, 16.4MB/s]Downloading pytorch_model.bin:  43%|██████████████████████████████▎                                        | 482M/1.13G [00:31<00:39, 16.5MB/s]Downloading pytorch_model.bin:  44%|██████████████████████████████▉                                        | 493M/1.13G [00:31<00:39, 16.2MB/s]Downloading pytorch_model.bin:  45%|███████████████████████████████▋                                       | 503M/1.13G [00:32<00:38, 16.3MB/s]Downloading pytorch_model.bin:  45%|████████████████████████████████▎                                      | 514M/1.13G [00:32<00:37, 16.3MB/s]Downloading pytorch_model.bin:  46%|████████████████████████████████▉                                      | 524M/1.13G [00:33<00:37, 16.1MB/s]Downloading pytorch_model.bin:  47%|█████████████████████████████████▌                                     | 535M/1.13G [00:34<00:37, 16.0MB/s]Downloading pytorch_model.bin:  48%|██████████████████████████████████▎                                    | 545M/1.13G [00:35<00:37, 15.6MB/s]Downloading pytorch_model.bin:  49%|██████████████████████████████████▉                                    | 556M/1.13G [00:35<00:36, 15.5MB/s]Downloading pytorch_model.bin:  50%|███████████████████████████████████▌                                   | 566M/1.13G [00:36<00:35, 15.8MB/s]Downloading pytorch_model.bin:  51%|████████████████████████████████████▎                                  | 577M/1.13G [00:37<00:34, 15.9MB/s]Downloading pytorch_model.bin:  52%|████████████████████████████████████▉                                  | 587M/1.13G [00:37<00:33, 16.1MB/s]Downloading pytorch_model.bin:  53%|█████████████████████████████████████▌                                 | 598M/1.13G [00:38<00:32, 16.2MB/s]Downloading pytorch_model.bin:  54%|██████████████████████████████████████▏                                | 608M/1.13G [00:38<00:32, 16.1MB/s]Downloading pytorch_model.bin:  55%|██████████████████████████████████████▉                                | 619M/1.13G [00:39<00:36, 13.8MB/s]Downloading pytorch_model.bin:  56%|███████████████████████████████████████▌                               | 629M/1.13G [00:40<00:34, 14.5MB/s]Downloading pytorch_model.bin:  57%|████████████████████████████████████████▏                              | 640M/1.13G [00:41<00:32, 14.9MB/s]Downloading pytorch_model.bin:  58%|████████████████████████████████████████▉                              | 650M/1.13G [00:41<00:30, 15.5MB/s]Downloading pytorch_model.bin:  58%|█████████████████████████████████████████▌                             | 661M/1.13G [00:42<00:29, 15.8MB/s]Downloading pytorch_model.bin:  59%|██████████████████████████████████████████▏                            | 671M/1.13G [00:43<00:29, 15.8MB/s]Downloading pytorch_model.bin:  60%|██████████████████████████████████████████▊                            | 682M/1.13G [00:43<00:28, 15.6MB/s]Downloading pytorch_model.bin:  61%|███████████████████████████████████████████▌                           | 692M/1.13G [00:44<00:28, 15.6MB/s]Downloading pytorch_model.bin:  62%|████████████████████████████████████████████▏                          | 703M/1.13G [00:45<00:27, 15.3MB/s]Downloading pytorch_model.bin:  63%|████████████████████████████████████████████▊                          | 713M/1.13G [00:45<00:27, 15.1MB/s]Downloading pytorch_model.bin:  64%|█████████████████████████████████████████████▍                         | 724M/1.13G [00:46<00:26, 15.3MB/s]Downloading pytorch_model.bin:  65%|██████████████████████████████████████████████▏                        | 734M/1.13G [00:47<00:25, 15.3MB/s]Downloading pytorch_model.bin:  66%|██████████████████████████████████████████████▊                        | 744M/1.13G [00:47<00:24, 15.7MB/s]Downloading pytorch_model.bin:  67%|███████████████████████████████████████████████▍                       | 755M/1.13G [00:48<00:23, 16.1MB/s]Downloading pytorch_model.bin:  68%|████████████████████████████████████████████████▏                      | 765M/1.13G [00:49<00:22, 16.1MB/s]Downloading pytorch_model.bin:  69%|████████████████████████████████████████████████▊                      | 776M/1.13G [00:49<00:22, 16.0MB/s]Downloading pytorch_model.bin:  70%|█████████████████████████████████████████████████▍                     | 786M/1.13G [00:50<00:21, 16.1MB/s]Downloading pytorch_model.bin:  71%|██████████████████████████████████████████████████                     | 797M/1.13G [00:51<00:20, 16.2MB/s]Downloading pytorch_model.bin:  71%|██████████████████████████████████████████████████▊                    | 807M/1.13G [00:52<00:24, 13.2MB/s]Downloading pytorch_model.bin:  72%|███████████████████████████████████████████████████▍                   | 818M/1.13G [00:52<00:22, 13.8MB/s]Downloading pytorch_model.bin:  73%|████████████████████████████████████████████████████                   | 828M/1.13G [00:53<00:20, 14.6MB/s]Downloading pytorch_model.bin:  74%|████████████████████████████████████████████████████▋                  | 839M/1.13G [00:54<00:19, 15.2MB/s]Downloading pytorch_model.bin:  75%|█████████████████████████████████████████████████████▍                 | 849M/1.13G [00:54<00:18, 15.3MB/s]Downloading pytorch_model.bin:  76%|██████████████████████████████████████████████████████                 | 860M/1.13G [00:55<00:17, 15.7MB/s]Downloading pytorch_model.bin:  77%|██████████████████████████████████████████████████████▋                | 870M/1.13G [00:56<00:18, 14.0MB/s]Downloading pytorch_model.bin:  78%|███████████████████████████████████████████████████████▍               | 881M/1.13G [00:57<00:17, 14.4MB/s]Downloading pytorch_model.bin:  79%|████████████████████████████████████████████████████████               | 891M/1.13G [00:57<00:16, 14.8MB/s]Downloading pytorch_model.bin:  80%|████████████████████████████████████████████████████████▋              | 902M/1.13G [00:58<00:14, 15.4MB/s]Downloading pytorch_model.bin:  81%|█████████████████████████████████████████████████████████▎             | 912M/1.13G [00:59<00:13, 15.5MB/s]Downloading pytorch_model.bin:  82%|██████████████████████████████████████████████████████████             | 923M/1.13G [00:59<00:13, 15.4MB/s]Downloading pytorch_model.bin:  83%|██████████████████████████████████████████████████████████▋            | 933M/1.13G [01:00<00:12, 15.8MB/s]Downloading pytorch_model.bin:  84%|███████████████████████████████████████████████████████████▎           | 944M/1.13G [01:01<00:11, 16.0MB/s]Downloading pytorch_model.bin:  84%|███████████████████████████████████████████████████████████▉           | 954M/1.13G [01:01<00:10, 16.2MB/s]Downloading pytorch_model.bin:  85%|████████████████████████████████████████████████████████████▋          | 965M/1.13G [01:02<00:10, 16.2MB/s]Downloading pytorch_model.bin:  86%|█████████████████████████████████████████████████████████████▎         | 975M/1.13G [01:02<00:09, 16.3MB/s]Downloading pytorch_model.bin:  87%|█████████████████████████████████████████████████████████████▉         | 986M/1.13G [01:03<00:08, 16.4MB/s]Downloading pytorch_model.bin:  88%|██████████████████████████████████████████████████████████████▋        | 996M/1.13G [01:04<00:08, 16.6MB/s]Downloading pytorch_model.bin:  89%|██████████████████████████████████████████████████████████████▍       | 1.01G/1.13G [01:04<00:07, 16.5MB/s]Downloading pytorch_model.bin:  90%|███████████████████████████████████████████████████████████████       | 1.02G/1.13G [01:05<00:06, 16.4MB/s]Downloading pytorch_model.bin:  91%|███████████████████████████████████████████████████████████████▋      | 1.03G/1.13G [01:06<00:06, 16.2MB/s]Downloading pytorch_model.bin:  92%|████████████████████████████████████████████████████████████████▎     | 1.04G/1.13G [01:06<00:05, 16.0MB/s]Downloading pytorch_model.bin:  93%|████████████████████████████████████████████████████████████████▉     | 1.05G/1.13G [01:07<00:05, 16.1MB/s]Downloading pytorch_model.bin:  94%|█████████████████████████████████████████████████████████████████▋    | 1.06G/1.13G [01:08<00:04, 16.0MB/s]Downloading pytorch_model.bin:  95%|██████████████████████████████████████████████████████████████████▎   | 1.07G/1.13G [01:08<00:03, 15.5MB/s]Downloading pytorch_model.bin:  96%|██████████████████████████████████████████████████████████████████▉   | 1.08G/1.13G [01:09<00:03, 15.3MB/s]Downloading pytorch_model.bin:  97%|███████████████████████████████████████████████████████████████████▌  | 1.09G/1.13G [01:10<00:02, 15.5MB/s]Downloading pytorch_model.bin:  97%|████████████████████████████████████████████████████████████████████▏ | 1.10G/1.13G [01:10<00:01, 15.8MB/s]Downloading pytorch_model.bin:  98%|████████████████████████████████████████████████████████████████████▉ | 1.11G/1.13G [01:12<00:01, 12.8MB/s]Downloading pytorch_model.bin:  99%|█████████████████████████████████████████████████████████████████████▌| 1.12G/1.13G [01:12<00:00, 13.5MB/s]Downloading pytorch_model.bin: 100%|██████████████████████████████████████████████████████████████████████| 1.13G/1.13G [01:13<00:00, 14.2MB/s]Downloading pytorch_model.bin: 100%|██████████████████████████████████████████████████████████████████████| 1.13G/1.13G [01:13<00:00, 15.4MB/s]
Downloading (…)rocessor_config.json:   0%|                                                                           | 0.00/231 [00:00<?, ?B/s]Downloading (…)rocessor_config.json: 100%|█████████████████████████████████████████████████████████████████████| 231/231 [00:00<00:00, 103kB/s]
Downloading (…)okenizer_config.json:   0%|                                                                         | 0.00/2.61k [00:00<?, ?B/s]Downloading (…)okenizer_config.json: 100%|████████████████████████████████████████████████████████████████| 2.61k/2.61k [00:00<00:00, 1.26MB/s]
Downloading spiece.model:   0%|                                                                                     | 0.00/851k [00:00<?, ?B/s]Downloading spiece.model: 100%|█████████████████████████████████████████████████████████████████████████████| 851k/851k [00:00<00:00, 5.79MB/s]Downloading spiece.model: 100%|█████████████████████████████████████████████████████████████████████████████| 851k/851k [00:00<00:00, 5.74MB/s]
Downloading (…)/main/tokenizer.json:   0%|                                                                         | 0.00/3.27M [00:00<?, ?B/s]Downloading (…)/main/tokenizer.json: 100%|████████████████████████████████████████████████████████████████| 3.27M/3.27M [00:01<00:00, 2.90MB/s]Downloading (…)/main/tokenizer.json: 100%|████████████████████████████████████████████████████████████████| 3.27M/3.27M [00:01<00:00, 2.89MB/s]
Downloading (…)cial_tokens_map.json:   0%|                                                                         | 0.00/2.20k [00:00<?, ?B/s]Downloading (…)cial_tokens_map.json: 100%|█████████████████████████████████████████████████████████████████| 2.20k/2.20k [00:00<00:00, 992kB/s]
Traceback (most recent call last):
  File "./f00733_generate_text_from_image.py", line 38, in <module>
    test_generate_text_from_image()
  File "./f00733_generate_text_from_image.py", line 31, in test_generate_text_from_image
    generated_text = generate_text_from_image(image_path)
  File "./f00733_generate_text_from_image.py", line 19, in generate_text_from_image
    inputs = processor(images=[image_path], return_tensors='pt')
  File "/root/miniconda3/envs/py38/lib/python3.8/site-packages/transformers/models/pix2struct/processing_pix2struct.py", line 103, in __call__
    encoding_image_processor = self.image_processor(
  File "/root/miniconda3/envs/py38/lib/python3.8/site-packages/transformers/image_processing_utils.py", line 546, in __call__
    return self.preprocess(images, **kwargs)
  File "/root/miniconda3/envs/py38/lib/python3.8/site-packages/transformers/models/pix2struct/image_processing_pix2struct.py", line 424, in preprocess
    images = make_list_of_images(images)
  File "/root/miniconda3/envs/py38/lib/python3.8/site-packages/transformers/image_utils.py", line 145, in make_list_of_images
    raise ValueError(
ValueError: Invalid image type. Expected either PIL.Image.Image, numpy.ndarray, torch.Tensor, tf.Tensor or jax.ndarray, but got <class 'list'>.
