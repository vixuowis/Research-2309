# function_import --------------------

from transformers import pipeline

# function_code --------------------

def detect_gpt2_generated_text(text):
    """
    Detect if the provided text was generated by a GPT-2 model.

    Args:
        text (str): The text to be analyzed.

    Returns:
        dict: A dictionary containing the prediction results.
    """
    pipe = pipeline('text-classification', model='roberta-base-openai-detector')
    prediction = pipe(text)
    return prediction

# test_function_code --------------------

def test_detect_gpt2_generated_text():
    """
    Test the function detect_gpt2_generated_text.
    """
    test_text = 'Hello world! Is this content AI-generated?'
    prediction = detect_gpt2_generated_text(test_text)
    assert isinstance(prediction, dict), 'The result should be a dictionary.'
    assert 'label' in prediction, 'The result should contain a label.'
    assert 'score' in prediction, 'The result should contain a score.'

# call_test_function_code --------------------

test_detect_gpt2_generated_text()