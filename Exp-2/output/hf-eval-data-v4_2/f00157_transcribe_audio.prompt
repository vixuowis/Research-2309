{'code': "###Instruction: We are currently working on the development of a speech-to-text application for transcription purposes. Can you help generate the required transcription code?\n###Output: <<<domain>>>: Audio Automatic Speech Recognition\n<<<api_call>>>: WhisperForConditionalGeneration.from_pretrained('openai/whisper-tiny.en')\n<<<api_provider>>>: Hugging Face Transformers\n<<<explanation>>>: 1. Import the necessary classes, WhisperProcessor and WhisperForConditionalGeneration, from the transformers package. Also, import the load_dataset function from the datasets package.\n2. Load the pre-trained model 'openai/whisper-tiny.en' using the from_pretrained() methods for both WhisperProcessor and WhisperForConditionalGeneration.\n3. Load the audio dataset using the load_dataset() function.\n4. Retrieve the audio sample from the dataset and process the audio using the WhisperProcessor instance.\n5. Use the pre-trained model instance to generate the predicted token ids.\n6. Decode the predicted token ids into textual transcriptions using the processor's batch_decode method.\n<<<code>>>: from transformers import WhisperProcessor, WhisperForConditionalGeneration\nfrom datasets import load_dataset\nprocessor = WhisperProcessor.from_pretrained('openai/whisper-tiny.en')\nmodel = WhisperForConditionalGeneration.from_pretrained('openai/whisper-tiny.en')\nds = load_dataset('hf-internal-testing/librispeech_asr_dummy', 'clean', split='validation')\nsample = ds[0]['audio']\ninput_features = processor(sample['array'], sampling_rate=sample['sampling_rate'], return_tensors='pt').input_features\npredicted_ids = model.generate(input_features)\ntranscription = processor.batch_decode(predicted_ids, skip_special_tokens=True)\n", 'api_call': "WhisperForConditionalGeneration.from_pretrained('openai/whisper-tiny.en')", 'provider': 'Hugging Face Transformers', 'api_data': {'domain': 'Audio Automatic Speech Recognition', 'framework': 'Hugging Face Transformers', 'functionality': 'Transcription', 'api_name': 'openai/whisper-tiny.en', 'api_call': "WhisperForConditionalGeneration.from_pretrained('openai/whisper-tiny.en')", 'api_arguments': {'model_name': 'openai/whisper-tiny.en'}, 'python_environment_requirements': ['transformers', 'datasets', 'torch'], 'example_code': ['from transformers import WhisperProcessor, WhisperForConditionalGeneration', 'from datasets import load_dataset', 'processor = WhisperProcessor.from_pretrained(openai/whisper-tiny.en)', 'model = WhisperForConditionalGeneration.from_pretrained(openai/whisper-tiny.en)', 'ds = load_dataset(hf-internal-testing/librispeech_asr_dummy, clean, split=validation)', 'sample = ds[0][audio]', 'input_features = processor(sample[array], sampling_rate=sample[sampling_rate], return_tensors=pt).input_features', 'predicted_ids = model.generate(input_features)', 'transcription = processor.batch_decode(predicted_ids, skip_special_tokens=True)'], 'performance': {'dataset': 'LibriSpeech (clean)', 'accuracy': 8.437}, 'description': 'Whisper is a pre-trained model for automatic speech recognition (ASR) and speech translation. Trained on 680k hours of labelled data, Whisper models demonstrate a strong ability to generalise to many datasets and domains without the need for fine-tuning.'}}

